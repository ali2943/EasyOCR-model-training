<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyOCR - Image Text Recognition</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üî§ EasyOCR Image Text Recognition</h1>
            <p class="subtitle">Upload an image and extract text with bounding boxes</p>
        </header>

        <div class="main-content">
            <!-- Upload Section -->
            <section class="card upload-card">
                <h2>üì§ Upload Image</h2>
                <div class="upload-zone" id="upload-zone" tabindex="0" role="button" aria-label="Upload image">
                    <div class="upload-icon">üìÅ</div>
                    <p class="upload-text">Click to select or drag and drop an image</p>
                    <p class="upload-hint">Supported formats: JPG, PNG (Max 10MB)</p>
                    <input type="file" id="image-input" accept=".jpg,.jpeg,.png" hidden>
                </div>
                
                <div class="settings-panel">
                    <div class="form-group">
                        <label for="languages-input">Languages:</label>
                        <input type="text" id="languages-input" value="en" placeholder="en, es, fr">
                        <small>Comma-separated language codes (e.g., en, es, fr, de)</small>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="gpu-checkbox">
                            <span>Use GPU acceleration (if available)</span>
                        </label>
                    </div>
                </div>

                <button id="process-btn" class="btn btn-primary" disabled>
                    üöÄ Process Image
                </button>
            </section>

            <!-- Preview Section -->
            <section class="card preview-card" id="preview-section" style="display: none;">
                <h2>üì∑ Preview</h2>
                <div class="image-preview">
                    <img id="preview-image" alt="Preview">
                </div>
            </section>

            <!-- Processing Status -->
            <section class="card status-card" id="status-section" style="display: none;">
                <h2>‚è≥ Processing</h2>
                <div class="processing-status">
                    <div class="spinner"></div>
                    <p id="processing-message">Analyzing image...</p>
                </div>
            </section>

            <!-- Results Section -->
            <section class="card results-card" id="results-section" style="display: none;">
                <h2>‚ú® Results</h2>
                
                <div class="results-grid">
                    <!-- Annotated Image -->
                    <div class="result-panel">
                        <h3>Detected Text Regions</h3>
                        <div class="annotated-image-container">
                            <img id="annotated-image" alt="Annotated Image">
                        </div>
                    </div>

                    <!-- Extracted Text -->
                    <div class="result-panel">
                        <h3>Extracted Text</h3>
                        <div class="detections-list" id="detections-list">
                            <!-- Text detections will be listed here -->
                        </div>
                        <div class="action-buttons">
                            <button id="copy-text-btn" class="btn btn-secondary">
                                üìã Copy All Text
                            </button>
                            <button id="new-image-btn" class="btn btn-primary">
                                üîÑ Process New Image
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Summary Stats -->
                <div class="summary-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="total-detections">0</div>
                        <div class="stat-label">Text Regions Found</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="avg-confidence">0%</div>
                        <div class="stat-label">Average Confidence</div>
                    </div>
                </div>
            </section>
        </div>

        <footer>
            <p>Built with FastAPI, EasyOCR, and ‚ù§Ô∏è</p>
        </footer>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
